<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing · CalibrateEmulateSample.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CalibrateEmulateSample.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CalibrateEmulateSample.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation_instructions/">Installation instructions</a></li><li class="is-active"><a class="tocitem" href>Contributing</a><ul class="internal"><li><a class="tocitem" href="#What-to-contribute?"><span>What to contribute?</span></a></li><li><a class="tocitem" href="#Using-git"><span>Using <code>git</code></span></a></li></ul></li><li><a class="tocitem" href="../calibrate/">Calibrate</a></li><li><a class="tocitem" href="../emulate/">Emulate</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/lorenz_example/">Lorenz example</a></li></ul></li><li><a class="tocitem" href="../GaussianProcessEmulator/">Gaussian Process</a></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Package Design</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/AbstractMCMC/">AbstractMCMC sampling API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">CalibrateEmulateSample</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-1-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1-1"><span class="docs-label">Emulators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/Emulators/">General Emulator</a></li><li><a class="tocitem" href="../API/GaussianProcess/">Gaussian Process</a></li></ul></li><li><a class="tocitem" href="../API/MarkovChainMonteCarlo/">MarkovChainMonteCarlo</a></li><li><a class="tocitem" href="../API/Utilities/">Utilities</a></li></ul></li></ul></li><li><a class="tocitem" href="../glossary/">Glossary</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contributing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/CalibrateEmulateSample.jl/blob/master/docs/src/contributing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Contributing"><a class="docs-heading-anchor" href="#Contributing">Contributing</a><a id="Contributing-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing" title="Permalink"></a></h1><p>Thank you for considering contributing to <code>CalibrateEmulateSample</code>! We encourage opening issues and pull requests (PRs).</p><h2 id="What-to-contribute?"><a class="docs-heading-anchor" href="#What-to-contribute?">What to contribute?</a><a id="What-to-contribute?-1"></a><a class="docs-heading-anchor-permalink" href="#What-to-contribute?" title="Permalink"></a></h2><ul><li><p>The easiest way to contribute is by using <code>CalibrateEmulateSample</code>, identifying problems and opening issues;</p></li><li><p>You can try to tackle an existing <a href="https://github.com/CliMA/CalibrateEmulateSample.jl/issues">issue</a>. It is best to outline your proposed solution in the issue thread before implementing it in a PR;</p></li><li><p>Write an example or tutorial. It is likely that other users may find your use of <code>CalibrateEmulateSample</code> insightful;</p></li><li><p>Improve documentation or comments if you found something hard to use;</p></li><li><p>Implement a new feature if you need it. We strongly encourage opening an issue to make sure the administrators are on board before opening a PR with an unsolicited feature addition.</p></li></ul><h2 id="Using-git"><a class="docs-heading-anchor" href="#Using-git">Using <code>git</code></a><a id="Using-git-1"></a><a class="docs-heading-anchor-permalink" href="#Using-git" title="Permalink"></a></h2><p>If you are unfamiliar with <code>git</code> and version control, the following guides will be helpful:</p><ul><li><a href="https://www.atlassian.com/git/tutorials">Atlassian (bitbucket) <code>git</code> tutorials</a>. A set of tips and tricks for getting started with <code>git</code>.</li><li><a href="https://try.github.io/">GitHub&#39;s <code>git</code> tutorials</a>. A set of resources from GitHub to learn <code>git</code>.</li></ul><h3 id="Forks-and-branches"><a class="docs-heading-anchor" href="#Forks-and-branches">Forks and branches</a><a id="Forks-and-branches-1"></a><a class="docs-heading-anchor-permalink" href="#Forks-and-branches" title="Permalink"></a></h3><p>Create your own fork of <code>CalibrateEmulateSample</code> <a href="https://github.com/CliMA/CalibrateEmulateSample.jl">on GitHub</a> and check out your copy:</p><pre><code class="nohighlight hljs">$ git clone https://github.com/&lt;your-username&gt;/CalibrateEmulateSample.jl.git
$ cd CalibrateEmulateSample.jl</code></pre><p>Now you have access to your fork of <code>CalibrateEmulateSample</code> through <code>origin</code>. Create a branch for your feature; this will hold your contribution:</p><pre><code class="nohighlight hljs">$ git checkout -b &lt;branchname&gt;</code></pre><h4 id="Some-useful-tips"><a class="docs-heading-anchor" href="#Some-useful-tips">Some useful tips</a><a id="Some-useful-tips-1"></a><a class="docs-heading-anchor-permalink" href="#Some-useful-tips" title="Permalink"></a></h4><ul><li><p>When you start working on a new feature branch, make sure you start from main by running: <code>git checkout main</code> and <code>git pull</code>.</p></li><li><p>Create a new branch from main by using <code>git checkout -b &lt;branchname&gt;</code>.</p></li></ul><h3 id="Develop-your-feature"><a class="docs-heading-anchor" href="#Develop-your-feature">Develop your feature</a><a id="Develop-your-feature-1"></a><a class="docs-heading-anchor-permalink" href="#Develop-your-feature" title="Permalink"></a></h3><p>Make sure you add tests for your code in <code>test/</code> and appropriate documentation in the code and/or in <code>docs/</code>. Before committing your changes, you can verify their behavior by running the tests, the examples, and building the documentation <a href="https://clima.github.io/CalibrateEmulateSample.jl/dev/installation_instructions/">locally</a>. In addition, make sure your feature follows the formatting guidelines by running</p><pre><code class="nohighlight hljs">julia --project=.dev .dev/climaformat.jl .</code></pre><p>from the <code>CalibrateEmulateSample.jl</code> directory.</p><h3 id="Squash-and-rebase"><a class="docs-heading-anchor" href="#Squash-and-rebase">Squash and rebase</a><a id="Squash-and-rebase-1"></a><a class="docs-heading-anchor-permalink" href="#Squash-and-rebase" title="Permalink"></a></h3><p>When your PR is ready for review, clean up your commit history by squashing and make sure your code is current with <code>CalibrateEmulateSample.jl</code> main by rebasing. The general rule is that a PR should contain a single commit with a descriptive message.</p><p>To make sure you are up to date with main, you can use the following workflow:</p><pre><code class="nohighlight hljs">$ git checkout main
$ git pull
$ git checkout &lt;name_of_local_branch&gt;
$ git rebase main</code></pre><p>This may create conflicts with the local branch. The conflicted files will be outlined by git. To resolve conflicts, we have to manually edit the files (e.g. with vim). The conflicts will appear between &gt;&gt;&gt;&gt;, ===== and &lt;&lt;&lt;&lt;&lt;. We need to delete these lines and pick what version we want to keep.</p><p>To squash your commits, you can use the following command:</p><pre><code class="nohighlight hljs">$ git rebase -i HEAD~n</code></pre><p>where <code>n</code> is the number of commits you need to squash into one. Then, follow the instructions in the terminal. For example, to squash 4 commits:</p><pre><code class="nohighlight hljs">$ git rebase -i HEAD~4</code></pre><p>will open the following file in (typically) vim:</p><pre><code class="nohighlight hljs">   pick 01d1124 &lt;commit message 1&gt;
   pick 6340aaa &lt;commit message 2&gt;
   pick ebfd367 &lt;commit message 3&gt;
   pick 30e0ccb &lt;commit message 4&gt;

   # Rebase 60709da..30e0ccb onto 60709da
   #
   # Commands:
   #  p, pick = use commit
   #  e, edit = use commit, but stop for amending
   #  s, squash = use commit, but meld into previous commit
   #
   # If you remove a line here THAT COMMIT WILL BE LOST.
   # However, if you remove everything, the rebase will be aborted.
##</code></pre><p>We want to keep the first commit and squash the last 3. We do so by changing the last three commits to <code>squash</code> and then do <code>:wq</code> on vim.</p><pre><code class="nohighlight hljs">   pick 01d1124 &lt;commit message 1&gt;
   squash 6340aaa &lt;commit message 2&gt;
   squash ebfd367 &lt;commit message 3&gt;
   squash 30e0ccb &lt;commit message 4&gt;

   # Rebase 60709da..30e0ccb onto 60709da
   #
   # Commands:
   #  p, pick = use commit
   #  e, edit = use commit, but stop for amending
   #  s, squash = use commit, but meld into previous commit
   #
   # If you remove a line here THAT COMMIT WILL BE LOST.
   # However, if you remove everything, the rebase will be aborted.</code></pre><p>Then in the next screen that appears, we can just delete all messages that we do not want to show in the commit. After this is done and we are back to  the console, we have to force push. We need to force push because we rewrote the local commit history.</p><pre><code class="nohighlight hljs">$ git push -u origin &lt;name_of_local_branch&gt; --force</code></pre><p>You can find more information about squashing <a href="https://github.com/edx/edx-platform/wiki/How-to-Rebase-a-Pull-Request#squash-your-changes">here</a>.</p><h3 id="Unit-testing"><a class="docs-heading-anchor" href="#Unit-testing">Unit testing</a><a id="Unit-testing-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-testing" title="Permalink"></a></h3><p>Currently a number of checks are run per commit for a given PR.</p><ul><li><code>JuliaFormatter</code> checks if the PR is formatted with <code>.dev/climaformat.jl</code>.</li><li><code>Documentation</code> rebuilds the documentation for the PR and checks if the docs are consistent and generate valid output.</li><li><code>Unit Tests</code> run subsets of the unit tests defined in <code>tests/</code>, using <code>Pkg.test()</code>. The tests are run in parallel to ensure that they finish in a reasonable time. The tests only run the latest commit for a PR, branch and will kill any stale jobs on push. These tests are only run on linux (Ubuntu LTS).</li></ul><p>Unit tests are run against every new commit for a given PR, the status of the unit-tests are not checked during the merge process but act as a sanity check for developers and reviewers. Depending on the content changed in the PR, some CI checks that are not necessary will be skipped.  For example doc only changes do not require the unit tests to be run.</p><h3 id="The-merge-process"><a class="docs-heading-anchor" href="#The-merge-process">The merge process</a><a id="The-merge-process-1"></a><a class="docs-heading-anchor-permalink" href="#The-merge-process" title="Permalink"></a></h3><p>We use <a href="https://bors.tech/"><code>bors</code></a> to manage merging PR&#39;s in the the <code>CalibrateEmulateSample</code> repo. If you&#39;re a collaborator and have the necessary permissions, you can type <code>bors try</code> in a comment on a PR to have integration test suite run on that PR, or <code>bors r+</code> to try and merge the code.  Bors ensures that all integration tests for a given PR always pass before merging into <code>main</code>. The integration tests currently run example cases in <code>examples/</code>. Any breaking changes will need to also update the <code>examples/</code>, else bors will fail.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation_instructions/">« Installation instructions</a><a class="docs-footer-nextpage" href="../calibrate/">Calibrate »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Tuesday 20 September 2022 23:43">Tuesday 20 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
